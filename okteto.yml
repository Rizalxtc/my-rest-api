build:
  api:
    context: ./api
  frontend:
    context: ./frontend
deploy:
  commands:
    - npm install
    - npm run build
      - name: http
        containerPort: 8080
    resources:
      limits:
        cpu: 500m
        memory: 512Mi
      requests:
        cpu: 250m
        memory: 256Mi
dev:
  api:
    command:
      - npm
      - run
      - start
    forward:
      - 8080:8080
    sync:
      - .:/usr/src/app
  frontend:
    command:
      - npm
      - run
      - start
    sync:
      - .:/usr/src/app
